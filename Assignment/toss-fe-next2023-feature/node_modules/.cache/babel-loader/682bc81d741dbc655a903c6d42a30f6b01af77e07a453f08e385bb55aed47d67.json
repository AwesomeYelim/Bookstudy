{"ast":null,"code":"import { asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, asyncIterator as _asyncIterator, wrapAsyncGenerator as _wrapAsyncGenerator, awaitAsyncGenerator as _awaitAsyncGenerator, toConsumableArray as _toConsumableArray } from './_virtual/_rollupPluginBabelHelpers.mjs';\nfunction retryRequestsOf(task, _ref) {\n  var retries = _ref.retries,\n    _ref$shouldRetry = _ref.shouldRetry,\n    shouldRetry = _ref$shouldRetry === void 0 ? function () {\n      return true;\n    } : _ref$shouldRetry,\n    onError = _ref.onError;\n  return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var retriesLeft,\n      _iteratorAbruptCompletion,\n      _didIteratorError,\n      _iteratorError,\n      _len,\n      args,\n      _key,\n      _iterator,\n      _step,\n      result,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            retriesLeft = retries;\n            _iteratorAbruptCompletion = false;\n            _didIteratorError = false;\n            _context.prev = 3;\n            for (_len = _args.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = _args[_key];\n            }\n            _iterator = _asyncIterator(createTaskStream(task, args));\n          case 6:\n            _context.next = 8;\n            return _iterator.next();\n          case 8:\n            if (!(_iteratorAbruptCompletion = !(_step = _context.sent).done)) {\n              _context.next = 25;\n              break;\n            }\n            result = _step.value;\n            _context.t0 = result.type;\n            _context.next = _context.t0 === 'SUCCEEDED' ? 13 : _context.t0 === 'ERROR' ? 14 : 22;\n            break;\n          case 13:\n            return _context.abrupt(\"return\", result.value);\n          case 14:\n            _context.next = 16;\n            return onError === null || onError === void 0 ? void 0 : onError(result.error);\n          case 16:\n            if (!(shouldRetry(result.error) && retriesLeft > 0)) {\n              _context.next = 21;\n              break;\n            }\n            retriesLeft -= 1;\n            return _context.abrupt(\"continue\", 22);\n          case 21:\n            throw result.error;\n          case 22:\n            _iteratorAbruptCompletion = false;\n            _context.next = 6;\n            break;\n          case 25:\n            _context.next = 31;\n            break;\n          case 27:\n            _context.prev = 27;\n            _context.t1 = _context[\"catch\"](3);\n            _didIteratorError = true;\n            _iteratorError = _context.t1;\n          case 31:\n            _context.prev = 31;\n            _context.prev = 32;\n            if (!(_iteratorAbruptCompletion && _iterator[\"return\"] != null)) {\n              _context.next = 36;\n              break;\n            }\n            _context.next = 36;\n            return _iterator[\"return\"]();\n          case 36:\n            _context.prev = 36;\n            if (!_didIteratorError) {\n              _context.next = 39;\n              break;\n            }\n            throw _iteratorError;\n          case 39:\n            return _context.finish(36);\n          case 40:\n            return _context.finish(31);\n          case 41:\n            throw new Error('재시도 횟수를 초과했습니다.');\n          case 42:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 27, 31, 41], [32,, 36, 40]]);\n  }));\n}\nfunction createTaskStream(_x, _x2) {\n  return _createTaskStream.apply(this, arguments);\n}\nfunction _createTaskStream() {\n  _createTaskStream = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(task, args) {\n    var value;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _awaitAsyncGenerator(task.apply(void 0, _toConsumableArray(args)));\n          case 4:\n            value = _context2.sent;\n            _context2.next = 7;\n            return {\n              type: 'SUCCEEDED',\n              value: value\n            };\n          case 7:\n            _context2.next = 13;\n            break;\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](1);\n            _context2.next = 13;\n            return {\n              type: 'ERROR',\n              error: _context2.t0\n            };\n          case 13:\n            _context2.next = 0;\n            break;\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return _createTaskStream.apply(this, arguments);\n}\nexport { retryRequestsOf };","map":{"version":3,"names":["asyncToGenerator","_asyncToGenerator","regeneratorRuntime","_regeneratorRuntime","asyncIterator","_asyncIterator","wrapAsyncGenerator","_wrapAsyncGenerator","awaitAsyncGenerator","_awaitAsyncGenerator","toConsumableArray","_toConsumableArray","retryRequestsOf","task","_ref","retries","_ref$shouldRetry","shouldRetry","onError","mark","_callee","retriesLeft","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_len","args","_key","_iterator","_step","result","_args","arguments","wrap","_callee$","_context","prev","next","length","Array","createTaskStream","sent","done","value","t0","type","abrupt","error","t1","finish","Error","stop","_x","_x2","_createTaskStream","apply","_callee2","_callee2$","_context2"],"sources":["C:/Users/User/Desktop/yelim/Study/Assignment/toss-fe-next2023-feature/node_modules/@toss/utils/esm/retryRequestsOf.mjs"],"sourcesContent":["import { asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, asyncIterator as _asyncIterator, wrapAsyncGenerator as _wrapAsyncGenerator, awaitAsyncGenerator as _awaitAsyncGenerator, toConsumableArray as _toConsumableArray } from './_virtual/_rollupPluginBabelHelpers.mjs';\n\nfunction retryRequestsOf(task, _ref) {\n  var retries = _ref.retries,\n      _ref$shouldRetry = _ref.shouldRetry,\n      shouldRetry = _ref$shouldRetry === void 0 ? function () {\n    return true;\n  } : _ref$shouldRetry,\n      onError = _ref.onError;\n  return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var retriesLeft,\n        _iteratorAbruptCompletion,\n        _didIteratorError,\n        _iteratorError,\n        _len,\n        args,\n        _key,\n        _iterator,\n        _step,\n        result,\n        _args = arguments;\n\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            retriesLeft = retries;\n            _iteratorAbruptCompletion = false;\n            _didIteratorError = false;\n            _context.prev = 3;\n\n            for (_len = _args.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = _args[_key];\n            }\n\n            _iterator = _asyncIterator(createTaskStream(task, args));\n\n          case 6:\n            _context.next = 8;\n            return _iterator.next();\n\n          case 8:\n            if (!(_iteratorAbruptCompletion = !(_step = _context.sent).done)) {\n              _context.next = 25;\n              break;\n            }\n\n            result = _step.value;\n            _context.t0 = result.type;\n            _context.next = _context.t0 === 'SUCCEEDED' ? 13 : _context.t0 === 'ERROR' ? 14 : 22;\n            break;\n\n          case 13:\n            return _context.abrupt(\"return\", result.value);\n\n          case 14:\n            _context.next = 16;\n            return onError === null || onError === void 0 ? void 0 : onError(result.error);\n\n          case 16:\n            if (!(shouldRetry(result.error) && retriesLeft > 0)) {\n              _context.next = 21;\n              break;\n            }\n\n            retriesLeft -= 1;\n            return _context.abrupt(\"continue\", 22);\n\n          case 21:\n            throw result.error;\n\n          case 22:\n            _iteratorAbruptCompletion = false;\n            _context.next = 6;\n            break;\n\n          case 25:\n            _context.next = 31;\n            break;\n\n          case 27:\n            _context.prev = 27;\n            _context.t1 = _context[\"catch\"](3);\n            _didIteratorError = true;\n            _iteratorError = _context.t1;\n\n          case 31:\n            _context.prev = 31;\n            _context.prev = 32;\n\n            if (!(_iteratorAbruptCompletion && _iterator[\"return\"] != null)) {\n              _context.next = 36;\n              break;\n            }\n\n            _context.next = 36;\n            return _iterator[\"return\"]();\n\n          case 36:\n            _context.prev = 36;\n\n            if (!_didIteratorError) {\n              _context.next = 39;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 39:\n            return _context.finish(36);\n\n          case 40:\n            return _context.finish(31);\n\n          case 41:\n            throw new Error('재시도 횟수를 초과했습니다.');\n\n          case 42:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 27, 31, 41], [32,, 36, 40]]);\n  }));\n}\n\nfunction createTaskStream(_x, _x2) {\n  return _createTaskStream.apply(this, arguments);\n}\n\nfunction _createTaskStream() {\n  _createTaskStream = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(task, args) {\n    var value;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _awaitAsyncGenerator(task.apply(void 0, _toConsumableArray(args)));\n\n          case 4:\n            value = _context2.sent;\n            _context2.next = 7;\n            return {\n              type: 'SUCCEEDED',\n              value: value\n            };\n\n          case 7:\n            _context2.next = 13;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](1);\n            _context2.next = 13;\n            return {\n              type: 'ERROR',\n              error: _context2.t0\n            };\n\n          case 13:\n            _context2.next = 0;\n            break;\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return _createTaskStream.apply(this, arguments);\n}\n\nexport { retryRequestsOf };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}